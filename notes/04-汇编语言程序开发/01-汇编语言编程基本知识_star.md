## 汇编语言编程基本知识

### 汇编语言概述

- 机器语言：直接用二进制代码的机器指令表示的语言。
- 汇编语言：用指令助记符、符号地址、标号等符号书写程序的语言。
- 高级语言：高级语言是一种类似于人类语言的语言。

### 汇编语言编程环境

汇编语言程序上机过程

- 基于DOS平台

```mermaid
graph LR
    build[建立、编辑] --> assemble[汇编]
    assemble --> link[连接]
    link --> run[运行]
    link --> debug[调试]
    debug --> run
```

上机过程 

- 实模式
  - 上机过程：masm -> link -> .exe / .com
  - 编辑：tmp.asm
  - 汇编：masm tmp.asm -> tmp.obj
  - 连接：link tmp.obj -> tmp.exe / tmp.com
  - 运行：tmp.exe / tmp.com
  - 调试：debug 
- 保护模式
  - 上机过程：ml -> link
  - 编辑：tmp.asm
  - 汇编：`ml /c /coff tmp.asm` -> tmp.obj ( /c 仅编译不连接 /coff 生成Coff格式的目标文件)
  - 连接：`link /subsystem:console tmp.obj` -> tmp.exe ( /subsystem:console 生成控制台程序 或者 /subsystem:windows 生成窗口程序)
  - 调试：windbg （WinDebug）
  
> .exe 为可执行文件，.com 为二进制文件


### 汇编语言语句格式

- 汇编语句
  - **指令**
    - 每条指令语句都生成机器代码，各对应一种CPU操作，在程序运行时执行
  - **伪指令**
    - 由汇编程序在汇编过程中执行，数据定义语句分配存储空间，其它伪指令不生成目标码
  - **宏指令**
    - 是用户按照宏定义格式编写的一段程序，可以包含指令、伪指令、甚至其他宏指令
- 语句格式
  - `[label:] mnemonic [operands] [;comment]` 
  - `label`：指令的名字，标号，可选项，汇编语言中的标号是一个标识符，用于标识一个地址，汇编程序在汇编过程中会将标号替换为对应的地址
    - 伪指令的名字可以是变量名、过程名、段名等。
    - 通常，名字具有三属性：
      - 段基址、
      - 偏移量
      - 类型
  - `mnemonic`：助记符，必选项，汇编指令的助记符，汇编程序在汇编过程中会将助记符替换为对应的机器指令
  - `operands`：操作数，可选项，汇编指令的操作数，汇编程序在汇编过程中会将操作数替换为对应的机器指令的操作数
  - `comment`：注释，可选项，汇编语句的注释，汇编程序在汇编过程中会忽略注释

```markdown
13．在一段汇编程序中多次调用另一段程序，用宏指令比用子程序实现起来。 

A．占内存空间小，但速度慢
B．占内存空间大，但速度快
C．占内存空间相同，速度快
D．占内存空间相同，速度慢

[解析]
参考答案为:B
1）宏指令简化程序的书写，不节省程序存储空间，但执行时间比子程序短。
2）子程序简化程序的书写，也节省程序的存储空间，但执行时间比宏指令长。
```
