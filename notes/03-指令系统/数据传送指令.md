## 数据传送指令

<!-- MOV、PUSH、POP、XCHG、IN、OUT、LEA、PUSHF、POPF -->

| 指令 | 名称 | 格式 | 说明 |
| --- | --- | --- | --- |
| `MOV` | 通用数据传送指令 | `MOV dst,src` | 将源操作数送到目标操作数 |
| `PUSH` | 压栈指令 | `PUSH src` | 将源操作数送入堆栈 |
| `POP` | 出栈指令 | `POP dst` | 将堆栈中的数据送到目标操作数 |
| `XCHG` | 交换指令 | `XCHG dst,src` | 交换目标操作数和源操作数的内容 |
| `IN` | 输入指令 | `IN dst,src` | 从端口src输入一个字节或字到目标操作数 |
| `OUT` | 输出指令 | `OUT src,dst` | 将源操作数的内容送到端口dst |
| `LEA` | 取有效地址指令 | `LEA dst,src` | 将源操作数的偏移地址送到目标操作数 |
| `PUSHF` | 压栈标志指令 | `PUSHF` | 将标志寄存器的内容送入堆栈 |
| `POPF` | 出栈标志指令 | `POPF` | 将堆栈中的数据送到标志寄存器 |

### 通用数据传送指令

- 对于`mov`，需符合[数据传送规则](./数据传送规则.md) 
- `MOV WORD PTR [BX],10`这种
  - `WORD PTR`是指定BX所指向的内存单元为字型
  - 立即数10被汇编为16位的**字型**数，送入BX所指向的内存单元
  - 若要汇编为8位的**字节型**数，应写为`MOV BYTE PTR [BX],10`
- 带符号扩展的`movsx`指令
  - 将源操作数的低位扩展到目标操作数的高位
- 带零扩展的`movzx`指令
  - 将源操作数的低位扩展到目标操作数的高位，高位补0

### 堆栈操作指令

- 堆栈段段基址->`SS`，堆栈栈顶地址->`SP`/`ESP`
- `push src`
  - `SS:SP = (SRC)`
  - 如果src是16位字型，将src送入堆栈，`SP`减2
  - 如果src是32位双字型，将src送入堆栈，`SP`减4
- `pop dst`
  - `(DST) = SS:SP`
  - 如果dst是16位字型，将堆栈中的数据送入dst，`SP`加2
  - 如果dst是32位双字型，将堆栈中的数据送入dst，`SP`加4